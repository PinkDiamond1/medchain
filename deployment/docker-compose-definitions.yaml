version: '2.4'

services:
  medchain:
    image: medchain:dev
    build: 
      context: ../ 
      dockerfile: deployment/Dockerfile

    environment: 
    - MEDCHAIN_NODE_IDX=0 
    - MEDCHAIN_LOG_LEVEL=1 
    - MEDCHAIN_TIMEOUT_SECONDS=600
    - MEDCHAIN_GROUP_FILE_PATH=/medchain-config/public.toml
    - MEDCHAIN_NODES_ADDRESS=/medchain-config/public.toml
    - CONF_DIR=/medchain-config
    ports:
      - "7770"
      - "7771"
    volumes:
      - ./configuration-profiles:/medchain-config
    
  